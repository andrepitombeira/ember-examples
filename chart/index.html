<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8 />
    <title>Ember and D3</title>
    <link rel="stylesheet" href="js/libs/bootstrap/bootstrap.css">
    <link rel="stylesheet" href="js/libs/datepicker.css">
    <link rel="stylesheet" href="js/libs/bootstrap-glyphicons.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- Templates -->
    <script type="text/x-handlebars">
        <header class="title">
            <h1>Ember and D3</h1>
        </header>

        <div class="content">
            <div id="left-panel" class="text-center">
                <div class="loading">
                    {{outlet loading}}
                </div>
                {{monthly-datepicker month=controller.controllers.monthlyReport.date action="getMonthlyReport"}}
            </div>

            <div id="center-panel">
                {{outlet}}
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="index">
        <h3 class="text-center muted thin">Select a month</h3>
    </script>

    <script type="text/x-handlebars" data-template-name="monthlyReport">
        <h1 class="text-center margin-bottom-large">{{title}}</h1>


        <div class="text-center">
            <ul class="nav nav-pills filters margin-left">
                {{filter-item value="newContracts" label="New Contracts" filter=controller.controllers.companies.filter}}
                {{filter-item value="feeIncreases" label="Fee Increases" filter=controller.controllers.companies.filter}}
                {{filter-item value="attritions" label="Attritions" filter=controller.controllers.companies.filter}}
            </ul>
        </div>

        <div class="row">
            <div class="col-lg-7">
                {{bar-chart data=controller.controllers.companies.data isLoaded=controller.controllers.companies.model.isLoaded}}
            </div>

            <div class="col-lg-5">
                {{pie-chart data=controller.controllers.companies.data isLoaded=controller.controllers.companies.model.isLoaded}}
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="loading">
        <img src="img/loading.gif">
    </script>

    <!-- Components -->
    <script type="text/x-handlebars" data-template-name="components/monthly-datepicker"></script>
    <script type="text/x-handlebars" data-template-name="components/bar-chart"></script>
    <script type="text/x-handlebars" data-template-name="components/pie-chart"></script>
    <script type="text/x-handlebars" data-template-name="components/filter-item"><a>{{label}}</a></script>

    <!-- Libs -->
    <script src="js/libs/d3.v3.min.js"></script>
    <script src="js/libs/jquery-1.9.1.js"></script>
    <script src="js/libs/handlebars-1.0.0.js"></script>
    <script src="js/libs/ember-1.0.0.js"></script>
    <script src="js/libs/ember-data-1.0.0-beta.2.js"></script>
    <script src="js/libs/bootstrap-datepicker.js"></script>
    <script src="js/libs/moment.min.js"></script>
    <script src="js/libs/charts/BarChart.js"></script>
    <script src="js/libs/charts/PieChart.js"></script>
    <script src="js/app.js"></script>
    <script src="js/models/Company.js"></script>
    <script src="js/models/MonthlyReport.js"></script>
    <script src="js/libs/test-data.js"></script>
    <script src="js/controllers/ApplicationController.js"></script>
    <script src="js/controllers/MonthlyReportController.js"></script>
    <script src="js/controllers/CompaniesController.js"></script>
    <script src="js/components/BaseChartComponent.js"></script>
    <script src="js/components/MonthlyDatepickerComponent.js"></script>
    <script src="js/components/BarChartComponent.js"></script>
    <script src="js/components/PieChartComponent.js"></script>
    <script src="js/components/FilterItemComponent.js"></script>
</body>
</html>